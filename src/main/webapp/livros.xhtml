<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:p="http://primefaces.org/ui">
<h:head>
    <title>Gerenciamento de Livros</title>
    <h:outputStylesheet name="styles.css"/>
</h:head>
<h:body>
    <h:form>
        <h1>Gerenciamento de Livros</h1>
        <p:dataTable value="#{livroController.livros}" var="livro" rows="10" paginator="true" responsive="true">
            <p:column headerText="ID">
                <h:outputText value="#{livro.id}"/>
            </p:column>
            <p:column headerText="Título">
                <h:outputText value="#{livro.titulo}"/>
            </p:column>
            <p:column headerText="Autor">
                <h:outputText value="#{livro.autor}"/>
            </p:column>
            <p:column headerText="Editora">
                <h:outputText value="#{livro.editora}"/>
            </p:column>
            <p:column headerText="Ano">
                <h:outputText value="#{livro.ano}"/>
            </p:column>
            <p:column headerText="Ações">
                <p:commandButton value="Editar" action="#{livroController.consultar(livro.id)}" update=":form"/>
                <p:commandButton value="Excluir" action="#{livroController.excluir(livro.id)}" update=":form"/>
            </p:column>
        </p:dataTable>

        <h2>Cadastro de Livro</h2>
        <p:panelGrid columns="2">
            <p:outputLabel value="Título:"/>
            <p:inputText value="#{livroController.livro.titulo}"/>

            <p:outputLabel value="Autor:"/>
            <p:inputText value="#{livroController.livro.autor}"/>

            <p:outputLabel value="Editora:"/>
            <p:inputText value="#{livroController.livro.editora}"/>

            <p:outputLabel value="Ano:"/>
            <p:inputText value="#{livroController.livro.ano}"/>
        </p:panelGrid>

        <p:commandButton value="Salvar" action="#{livroController.cadastrar}" update="@form"/>
    </h:form>
</h:body>
</html>
