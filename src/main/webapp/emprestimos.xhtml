<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:p="http://primefaces.org/ui">
<h:head>
    <title>Gerenciamento de Empréstimos</title>
    <h:outputStylesheet name="styles.css"/>
</h:head>
<h:body>
    <h:form>
        <h1>Gerenciamento de Empréstimos</h1>
        <p:dataTable value="#{emprestimoController.emprestimos}" var="emprestimo" rows="10" paginator="true" responsive="true">
            <p:column headerText="ID">
                <h:outputText value="#{emprestimo.id}"/>
            </p:column>
            <p:column headerText="Usuário">
                <h:outputText value="#{emprestimo.usuario.nome}"/>
            </p:column>
            <p:column headerText="Livro">
                <h:outputText value="#{emprestimo.livro.titulo}"/>
            </p:column>
            <p:column headerText="Data Empréstimo">
                <h:outputText value="#{emprestimo.dataEmprestimo}"/>
            </p:column>
            <p:column headerText="Data Devolução">
                <h:outputText value="#{emprestimo.dataDevolucao}"/>
            </p:column>
            <p:column headerText="Ações">
                <p:commandButton value="Editar" action="#{emprestimoController.consultar(emprestimo.id)}" update=":form"/>
                <p:commandButton value="Excluir" action="#{emprestimoController.excluir(emprestimo.id)}" update=":form"/>
            </p:column>
        </p:dataTable>

        <h2>Cadastro de Empréstimo</h2>
        <p:panelGrid columns="2">
            <p:outputLabel value="Usuário:"/>
            <p:inputText value="#{emprestimoController.emprestimo.usuario.nome}"/>

            <p:outputLabel value="Livro:"/>
            <p:inputText value="#{emprestimoController.emprestimo.livro.titulo}"/>

            <p:outputLabel value="Data Empréstimo:"/>
            <p:inputText value="#{emprestimoController.emprestimo.dataEmprestimo}"/>

            <p:outputLabel value="Data Devolução:"/>
            <p:inputText value="#{emprestimoController.emprestimo.dataDevolucao}"/>
        </p:panelGrid>

        <p:commandButton value="Salvar" action="#{emprestimoController.cadastrar}" update="@form"/>
    </h:form>
</h:body>
</html>
